{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "properties": {
    "cluster": {
      "description": "Kubee Cluster Chart",
      "properties": {
        "auth": {
          "description": "Cluster Auth",
          "properties": {
            "admin_user": {
              "description": "The admin user  * created as admin user in Kubernetes and other app  * added in basicAuth",
              "properties": {
                "cluster_role": {
                  "default": "cluster-admin",
                  "description": " required: true enum: [ 'cluster-admin', 'admin' ] @schema Kubernetes clusterRole * `cluster-admin` has full access * `admin` does not have access to node and cluster scope related object such as ClusterRoleBinding",
                  "enum": [
                    "cluster-admin",
                    "admin"
                  ],
                  "required": [],
                  "title": "cluster_role"
                },
                "email": {
                  "default": "",
                  "description": " format: email minLength: 1 @schema The admin email It's used by default in apps. For instance: * letsencrypt registration email * alert notifications: prometheus, argocd",
                  "format": "email",
                  "minLength": 1,
                  "required": [],
                  "title": "email"
                },
                "password": {
                  "default": "",
                  "description": " required: true minLength: 1 @schema The admin password",
                  "minLength": 1,
                  "required": [],
                  "title": "password"
                },
                "username": {
                  "default": "admin",
                  "description": " required: true minLength: 3 @schema The username",
                  "minLength": 3,
                  "required": [],
                  "title": "username"
                }
              },
              "required": [],
              "title": "admin_user"
            },
            "trusted_proxies": {
              "description": "Trusted Proxies If trusted, reverse proxies handler will proxy and augment the sensitive X-Forwarded-* request headers.  You should set the CIDR value of: * internal proxy such as traefik * and external proxy such as cloudflare It's used by Traefik and all auth application that needs the real ip and trust the X-forward headers",
              "items": {
                "required": []
              },
              "required": [],
              "title": "trusted_proxies"
            }
          },
          "required": [],
          "title": "auth",
          "type": "object"
        },
        "chart": {
          "default": "k3s-ansible",
          "description": "The cluster chart. The cluster chart is responsible for the installation/management of Kubernetes on the nodes",
          "required": [],
          "title": "chart"
        },
        "distribution": {
          "default": "k3s",
          "description": "The kubernetes distribution k3s is the distribution that has a cluster chart implemented.",
          "required": [],
          "title": "distribution"
        },
        "dns": {
          "description": " it's used by cert-manager for the DNS01 proof and by external dns",
          "properties": {
            "cloudflare": {
              "description": "Cloudflare Enabled if the domain list is not empty",
              "properties": {
                "api_token": {
                  "description": " `ApiToken` is now the preferred method (ApiKey is deprecated)",
                  "properties": {
                    "key": {
                      "default": "cloudflare-api-token",
                      "description": " required: true minLength: 1 @schema The key property (in the secret of k8s or any other provider)",
                      "minLength": 1,
                      "required": [],
                      "title": "key"
                    },
                    "kind": {
                      "default": "Secret",
                      "description": " required: true enum: [ 'Secret', 'ExternalSecret' ] @schema The type of secret A secret or external secret The chart is responsible for supporting them",
                      "enum": [
                        "Secret",
                        "ExternalSecret"
                      ],
                      "required": [],
                      "title": "kind"
                    },
                    "property": {
                      "default": "",
                      "description": " Used with the External Secret type",
                      "required": [],
                      "title": "property"
                    },
                    "value": {
                      "default": "",
                      "description": " (Used with the k8s secret type to create a Kubernetes secret)",
                      "required": [],
                      "title": "value"
                    }
                  },
                  "required": [],
                  "title": "api_token"
                },
                "dns_zones": {
                  "description": " format: hostname required: true minLength: 0 @schema The dns Zones that are managed by cloudflare, Cloudflare is enabled if the list is not empty",
                  "format": "hostname",
                  "items": {
                    "required": []
                  },
                  "minLength": 0,
                  "required": [],
                  "title": "dns_zones"
                }
              },
              "required": [],
              "title": "cloudflare"
            }
          },
          "required": [],
          "title": "dns"
        },
        "email": {
          "description": "Default smtp server parameters",
          "properties": {
            "smtp": {
              "description": "Smtp Configuration",
              "properties": {
                "from": {
                  "default": "",
                  "description": " format: email required: false @schema the default from",
                  "format": "email",
                  "required": [],
                  "title": "from"
                },
                "hello": {
                  "default": "",
                  "description": "hello (used to present itself, normally the email apex domain name)",
                  "required": [],
                  "title": "hello",
                  "type": "string"
                },
                "host": {
                  "default": "",
                  "description": " title: Smtp host description: The smtp hostname required: true format: hostname @schema The smtp host if the host is not empty, smtp configuration are added for example for argocd email notifications",
                  "format": "hostname",
                  "required": [],
                  "title": "Smtp host"
                },
                "password": {
                  "default": "",
                  "description": "the auth connection password",
                  "required": [],
                  "title": "password",
                  "type": "string"
                },
                "port": {
                  "default": 465,
                  "description": " title: Smtp Port description: The Smtp port type: integer required: false @schema the smtp port",
                  "required": [],
                  "title": "Smtp Port",
                  "type": "integer"
                },
                "username": {
                  "default": "",
                  "description": "the auth connection username",
                  "required": [],
                  "title": "username",
                  "type": "string"
                }
              },
              "required": [],
              "title": "smtp"
            }
          },
          "required": [],
          "title": "email",
          "type": "object"
        },
        "global": {
          "description": "Global values are values that can be accessed from any chart or subchart by exactly the same name.",
          "required": [],
          "title": "global",
          "type": "object"
        },
        "name": {
          "default": "kubee",
          "description": "The cluster name used: * to identify the cluster (for instance, on prometheus remote-write metrics, the name is added as label) * as default first instance name for operator (for instance, prometheus operator allows to install multiple prometheus that needs to be unique. Kube-prometheus asks for a unique name)",
          "required": [],
          "title": "name"
        }
      },
      "required": [],
      "title": "kubee-cluster",
      "type": "object"
    },
    "enabled": {
      "default": false,
      "description": "Boolean to indicate that this chart is or will be installed in the cluster",
      "required": [],
      "title": "Enabled",
      "type": "boolean"
    },
    "external-dns": {
      "properties": {
        "env": {
          "items": {
            "anyOf": [
              {
                "properties": {
                  "name": {
                    "default": "CF_API_KEY",
                    "required": [],
                    "title": "name",
                    "type": "string"
                  },
                  "valueFrom": {
                    "properties": {
                      "secretKeyRef": {
                        "properties": {
                          "key": {
                            "default": "apiKey",
                            "required": [],
                            "title": "key",
                            "type": "string"
                          },
                          "name": {
                            "default": "cloudflare-api-key",
                            "required": [],
                            "title": "name",
                            "type": "string"
                          }
                        },
                        "required": [
                          "name",
                          "key"
                        ],
                        "title": "secretKeyRef",
                        "type": "object"
                      }
                    },
                    "required": [
                      "secretKeyRef"
                    ],
                    "title": "valueFrom",
                    "type": "object"
                  }
                },
                "required": [
                  "name",
                  "valueFrom"
                ],
                "type": "object"
              },
              {
                "properties": {
                  "name": {
                    "default": "CF_API_EMAIL",
                    "required": [],
                    "title": "name",
                    "type": "string"
                  },
                  "valueFrom": {
                    "properties": {
                      "secretKeyRef": {
                        "properties": {
                          "key": {
                            "default": "email",
                            "required": [],
                            "title": "key",
                            "type": "string"
                          },
                          "name": {
                            "default": "cloudflare-api-key",
                            "required": [],
                            "title": "name",
                            "type": "string"
                          }
                        },
                        "required": [
                          "name",
                          "key"
                        ],
                        "title": "secretKeyRef",
                        "type": "object"
                      }
                    },
                    "required": [
                      "secretKeyRef"
                    ],
                    "title": "valueFrom",
                    "type": "object"
                  }
                },
                "required": [
                  "name",
                  "valueFrom"
                ],
                "type": "object"
              }
            ],
            "required": []
          },
          "required": [],
          "title": "env",
          "type": "array"
        },
        "provider": {
          "properties": {
            "name": {
              "default": "cloudflare",
              "required": [],
              "title": "name",
              "type": "string"
            }
          },
          "required": [
            "name"
          ],
          "title": "provider",
          "type": "object"
        },
        "serviceMonitor": {
          "properties": {
            "enabled": {
              "const": false,
              "default": "false",
              "description": "We generate ourselves the monitor",
              "required": [],
              "title": "enabled"
            }
          },
          "required": [],
          "title": "serviceMonitor",
          "type": "object"
        }
      },
      "required": [
        "serviceMonitor",
        "provider",
        "env"
      ],
      "title": "external-dns",
      "type": "object"
    },
    "global": {
      "description": "Global values are values that can be accessed from any chart or subchart by exactly the same name.",
      "required": [],
      "title": "global",
      "type": "object"
    },
    "kubee_internal": {
      "description": "@ignored Internal Kubee constant",
      "properties": {
        "install_cross_dependency": {
          "const": false,
          "default": "false",
          "description": " const: false @schema Constant used to not output template from kubee cross dependency in Chart.yaml Don't change, don't touch",
          "required": [],
          "title": "install_cross_dependency"
        }
      },
      "required": [],
      "title": "kubee_internal"
    },
    "namespace": {
      "default": "external-dns",
      "description": "The installation namespace",
      "minLength": 1,
      "required": [],
      "title": "Namespace"
    },
    "provider": {
      "description": " Only [one provider is currently supported](https://github.com/kubernetes-sigs/external-dns/issues/2568) Default to cloudflare if the api_key and the dns zones are specified in the cluster chart https://kubernetes-sigs.github.io/external-dns/latest/docs/tutorials/webhook-provider/ The ideal setup for providers is to run as a sidecar in the same pod of the ExternalDNS container, listening only on localhost",
      "properties": {
        "args": {
          "description": " type: \"array\" items:   type: string   examples: [ '--aws-batch-change-interval=1s' ] @schema An array of args to be added to the external dns server Providers are driven by some args. Refer to their documentation to discover them.",
          "items": {
            "examples": [
              "--aws-batch-change-interval=1s"
            ],
            "required": [],
            "type": "string"
          },
          "required": [],
          "title": "args",
          "type": "array"
        },
        "env": {
          "description": " type: \"array\" items:   type: object   properties:     name:       title: an env name       type: string       examples: [DNSIMPLE_OAUTH]     value:       title: an env value       type: string       examples: [YOUR_DNSIMPLE_API_KEY] @schema The env of the external dns server An array of name, value env stored in secrets and passed as env to the Providers secret are driven by env. Refer to their documentation to discover them.",
          "items": {
            "properties": {
              "name": {
                "examples": [
                  "DNSIMPLE_OAUTH"
                ],
                "required": [],
                "title": "an env name",
                "type": "string"
              },
              "value": {
                "examples": [
                  "YOUR_DNSIMPLE_API_KEY"
                ],
                "required": [],
                "title": "an env value",
                "type": "string"
              }
            },
            "required": [],
            "type": "object"
          },
          "required": [],
          "title": "env",
          "type": "array"
        },
        "image": {
          "default": "",
          "description": " Example: image: ghcr.io/mconfalonieri/external-dns-hetzner-webhook:v0.7.0",
          "required": [],
          "title": "image"
        },
        "in_tree": {
          "description": "In-tree arguments",
          "properties": {
            "cloudflare": {
              "description": "cloudflare specific",
              "properties": {
                "dns_records_per_page": {
                  "default": 100,
                  "description": " type: integer @schema How many DNS records to fetch per request This is a [Rate limit option](https://kubernetes-sigs.github.io/external-dns/latest/docs/tutorials/cloudflare/#throttling). Cloudflare API has a global rate limit of [1,200 requests per five minutes](https://developers.cloudflare.com/fundamentals/api/reference/limits/) See also: `cache_time`",
                  "required": [],
                  "title": "dns_records_per_page",
                  "type": "integer"
                },
                "proxied": {
                  "default": "false",
                  "description": " The annotation `external-dns.alpha.kubernetes.io/cloudflare-proxied: \"true\"` override this value.",
                  "required": [],
                  "title": "proxied"
                },
                "region_key": {
                  "default": "global",
                  "description": " example value: `eu` [full list](https://developers.cloudflare.com/data-localization/regional-services/get-started/)",
                  "required": [],
                  "title": "region_key"
                }
              },
              "required": [],
              "title": "cloudflare",
              "type": "object"
            },
            "common": {
              "description": "Common to all in-tree provider",
              "properties": {
                "domain_filter": {
                  "description": "Domain filter (optional) limit to only domains; change to match the zone Create DNS records for host names that match E.g. `example.org` will allow the zone `example.org` and all subdomains (ie `xx.example.org`) `a.example.com` will allow for zone `example.com` `.example.com` will not attempt to match parent zones.",
                  "items": {
                    "examples": [
                      "10.0.0.in-addr.arpa"
                    ],
                    "format": "hostname",
                    "required": [],
                    "type": "string"
                  },
                  "required": [],
                  "title": "domain_filter",
                  "type": "array"
                },
                "exclude_domains": {
                  "description": " type: array items:   type: string   format: hostname   examples: ['10.0.0.in-addr.arpa'] @schema exclude a domain or subdomain Example: `ignore.this.example.com`",
                  "items": {
                    "examples": [
                      "10.0.0.in-addr.arpa"
                    ],
                    "format": "hostname",
                    "required": [],
                    "type": "string"
                  },
                  "required": [],
                  "title": "exclude_domains",
                  "type": "array"
                },
                "log": {
                  "description": "Log",
                  "properties": {
                    "format": {
                      "default": "text",
                      "description": " enum: [text, json] @schema Log format.",
                      "enum": [
                        "text",
                        "json"
                      ],
                      "required": [],
                      "title": "format"
                    },
                    "level": {
                      "default": "info",
                      "description": " enum: [panic, debug, info, warning, error, fatal] @schema Log level",
                      "enum": [
                        "panic",
                        "debug",
                        "info",
                        "warning",
                        "error",
                        "fatal"
                      ],
                      "required": [],
                      "title": "level"
                    }
                  },
                  "required": [],
                  "title": "log",
                  "type": "object"
                },
                "regex_domain_filter": {
                  "default": "",
                  "description": " It overrides domain filters and can be specified only once. example: `(example\\\\.org|company\\\\.com)$` or `example*`",
                  "required": [],
                  "title": "regex_domain_filter"
                },
                "request_time_out": {
                  "default": "30s",
                  "description": "Request Timeout",
                  "required": [],
                  "title": "request_time_out",
                  "type": "string"
                },
                "zone_id_filter": {
                  "description": " example value: `023e105f4ecef8ad9ca31a8372d0c353`",
                  "items": {
                    "required": []
                  },
                  "required": [],
                  "title": "zone_id_filter"
                }
              },
              "required": [
                "log",
                "request_time_out"
              ],
              "title": "common",
              "type": "object"
            }
          },
          "required": [
            "common",
            "cloudflare"
          ],
          "title": "in_tree",
          "type": "object"
        },
        "name": {
          "default": "",
          "description": " Required for an in-tree provider",
          "required": [],
          "title": "name"
        },
        "ports": {
          "description": "Ports",
          "properties": {
            "health": {
              "default": 8888,
              "required": [],
              "title": "health",
              "type": "integer"
            },
            "metrics": {
              "default": 8888,
              "required": [],
              "title": "metrics",
              "type": "integer"
            },
            "webhook": {
              "default": 8888,
              "required": [],
              "title": "webhook",
              "type": "integer"
            }
          },
          "required": [
            "webhook",
            "health",
            "metrics"
          ],
          "title": "ports",
          "type": "object"
        },
        "type": {
          "default": "in-tree",
          "description": " enum: ['in-tree','external'] @schema Provider Type",
          "enum": [
            "in-tree",
            "external"
          ],
          "required": [],
          "title": "type"
        }
      },
      "required": [
        "ports",
        "in_tree"
      ],
      "title": "provider"
    },
    "server": {
      "properties": {
        "cache_time": {
          "default": "4h",
          "description": "The local DNS cache to avoid [rate limiting](https://kubernetes-sigs.github.io/external-dns/latest/docs/rate-limits/) If a DNS entry is deleted/modified manually, the recovery will need to wait this interval for resynchronization.",
          "required": [],
          "title": "cache_time"
        },
        "interval": {
          "default": "1m",
          "description": "Interval for DNS sync.",
          "required": [],
          "title": "interval"
        },
        "log": {
          "description": "Log",
          "properties": {
            "format": {
              "default": "text",
              "description": " enum: [text, json] @schema Log format.",
              "enum": [
                "text",
                "json"
              ],
              "required": [],
              "title": "format"
            },
            "level": {
              "default": "info",
              "description": " enum: [panic, debug, info, warning, error, fatal] @schema Log level",
              "enum": [
                "panic",
                "debug",
                "info",
                "warning",
                "error",
                "fatal"
              ],
              "required": [],
              "title": "level"
            }
          },
          "required": [],
          "title": "log"
        },
        "namespaced": {
          "const": false,
          "default": "false",
          "description": " const: false @schema For info, ExternalDNS does not in a namespaced scope (Role and RoleBinding are cluster role). We don't support a namespaced scope",
          "required": [],
          "title": "namespaced"
        },
        "policy": {
          "default": "upsert-only",
          "description": " enum: [upsert-only, sync] @schema Policy Synchronization * upsert-only: Prevent deleting any records * sync: if you want DNS entries to get deleted as well",
          "enum": [
            "upsert-only",
            "sync"
          ],
          "required": [],
          "title": "policy"
        },
        "record_filtering": {
          "description": "Record Type Filtering",
          "properties": {
            "exclude": {
              "description": " type: array items:    enum: [A, AAAA, CNAME, NS, SRV, MX, TXT] @schema Record types to exclude",
              "items": {
                "enum": [
                  "A",
                  "AAAA",
                  "CNAME",
                  "NS",
                  "SRV",
                  "MX",
                  "TXT"
                ],
                "required": []
              },
              "required": [],
              "title": "exclude",
              "type": "array"
            },
            "managed": {
              "description": " type: array items:    enum: [A, AAAA, CNAME, NS, SRV, MX, TXT] @schema Record types to manage",
              "items": {
                "enum": [
                  "A",
                  "AAAA",
                  "CNAME",
                  "NS",
                  "SRV",
                  "MX",
                  "TXT"
                ],
                "required": []
              },
              "required": [],
              "title": "managed",
              "type": "array"
            }
          },
          "required": [],
          "title": "record_filtering",
          "type": "object"
        },
        "registry": {
          "description": "The metadata store",
          "properties": {
            "txt": {
              "properties": {
                "encrypt": {
                  "default": false,
                  "description": " type: boolean @schema Encrypt Key is mandatory if true",
                  "required": [],
                  "title": "encrypt",
                  "type": "boolean"
                },
                "encrypt_aes_key": {
                  "default": "",
                  "description": "txt-encrypt=true)",
                  "required": [],
                  "title": "encrypt_aes_key"
                },
                "owner_id": {
                  "default": "kubee",
                  "description": "A name that identifies this instance of ExternalDNS",
                  "required": [],
                  "title": "owner_id",
                  "type": "string"
                },
                "prefix": {
                  "default": "",
                  "description": " Could contain record type template like '%{record_type}-prefix-'. Mutual exclusive with txt-suffix! `%{record_type}` should be included, as any other value will cause a weird duplication of database records.",
                  "required": [],
                  "title": "prefix"
                },
                "suffix": {
                  "default": "",
                  "description": " Could contain record type template like '-%{record_type}-suffix'. Mutual exclusive with txt-prefix! `%{record_type}` should be included, as any other value will cause a weird duplication of database records.",
                  "required": [],
                  "title": "suffix"
                }
              },
              "required": [
                "owner_id"
              ],
              "title": "txt",
              "type": "object"
            },
            "type": {
              "default": "txt",
              "description": " enum: [ 'txt', 'aws-sd', 'dynamodb', 'noop' ] @schema [Registry](https://kubernetes-sigs.github.io/external-dns/latest/docs/registry/registry/) where to persist metadata such as [ownership of record](https://kubernetes-sigs.github.io/external-dns/latest/docs/initial-design/#ownership) to not overwrite records not managed by External DNS `txt` stores DNS record metadata in TXT records",
              "enum": [
                "txt",
                "aws-sd",
                "dynamodb",
                "noop"
              ],
              "required": [],
              "title": "type"
            }
          },
          "required": [
            "txt"
          ],
          "title": "registry",
          "type": "object"
        },
        "sources": {
          "description": " type: array items:   type: string @schema [Source](https://kubernetes-sigs.github.io/external-dns/latest/docs/sources/about/) [Traefik](https://kubernetes-sigs.github.io/external-dns/latest/docs/sources/traefik-proxy/) is added if enabled.",
          "items": {
            "required": [],
            "type": "string"
          },
          "required": [],
          "title": "sources",
          "type": "array"
        },
        "webhook_read_timeout": {
          "default": "5s",
          "description": " url: 'http://localhost:8888' The read timeout for the webhook provider in duration format (default: 5s)",
          "required": [],
          "title": "webhook_read_timeout"
        },
        "webhook_write_timeout": {
          "default": "10s",
          "description": "The write timeout for the webhook provider in duration format (default: 10s)",
          "required": [],
          "title": "webhook_write_timeout",
          "type": "string"
        }
      },
      "required": [
        "registry",
        "record_filtering",
        "webhook_write_timeout"
      ],
      "title": "server",
      "type": "object"
    },
    "version": {
      "default": "0.15.1",
      "description": "[External DNS version](https://github.com/kubernetes-sigs/external-dns/releases)",
      "required": [],
      "title": "version"
    }
  },
  "required": [
    "enabled",
    "namespace",
    "server",
    "external-dns"
  ],
  "type": "object"
}