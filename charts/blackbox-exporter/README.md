

[//]: # (README.md generated by gotmpl. DO NOT EDIT.)

![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![Version: 0.0.1](https://img.shields.io/badge/Version-0.0.1-informational?style=flat-square) ![AppVersion: 0.28.0](https://img.shields.io/badge/AppVersion-0.28.0-informational?style=flat-square)

# Kubee BlackBox Exporter Chart

> [!WARNING]
> This chart is in the [alpha status](https://github.com/EraldyHq/kubee/blob/main/docs/site/kubee-helmet-chart.md#status) and is not fit to be installed or upgraded

This is a [jsonnet chart](https://github.com/EraldyHq/kubee/blob/main/docs/site/jsonnet-chart.md) that installs [Prometheus Blackbox Exporter](https://github.com/prometheus/blackbox_exporter)
to be able to perform monitoring probe/check on multiple protocol (https, dns, tcp, ...).

## Chart Features

### Mixin

https://monitoring.mixins.dev/blackbox_exporter/

### Probe

You can then create [Probes](https://prometheus-operator.dev/docs/api-reference/api/#monitoring.coreos.com/v1.Probe)

Example:
```yaml
kind: Probe
apiVersion: monitoring.coreos.com/v1
metadata:
  name: kubee-website
spec:
  interval: 60s
  module: http_2xx
  prober:
    url: blackbox-exporter.monitoring.svc.cluster.local:19115
  targets:
    staticConfig:
      static:
      - http://kubee.eraldy.com
      - https://kubee.eraldy.com
```

The kubee [prometheus](https://github.com/EraldyHq/kubee/blob/main/charts/prometheus/README.md) installation select
all probes in all namespaces.

### Kubee Charts Features

  These [kubee charts](https://github.com/EraldyHq/kubee/blob/main/docs/site/kubee-helmet-chart.md) add their features when `enabled`.

* [cert-manager](https://github.com/EraldyHq/kubee/blob/main/charts/cert-manager/README.md) adds [server certificates](https://cert-manager.io/docs/usage/certificate/) to the servers
* [grafana](https://github.com/EraldyHq/kubee/blob/main/charts/grafana/README.md) creates [dashboards](https://grafana.com/grafana/dashboards/)
* [prometheus](https://github.com/EraldyHq/kubee/blob/main/charts/prometheus/README.md) creates [metrics scraping jobs](https://prometheus.io/docs/concepts/jobs_instances/) and [alert rules](https://prometheus.io/docs/prometheus/latest/configuration/alerting_rules/)
* [traefik](https://github.com/EraldyHq/kubee/blob/main/charts/traefik/README.md) creates an [ingress](https://kubernetes.io/docs/concepts/services-networking/ingress/) if hostnames are defined

## Installation

```bash
kubee helmet --cluster cluster-name play blackbox-exporter
```

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| enabled | bool | `false` | Boolean to indicate that this chart is or will be installed in the cluster |
| namespace | string | `"monitoring"` | The installation namespace |
| reloader.version | string | `"0.14.0"` |  |
| version | string | `"0.26.0"` | Blackbox exporter [version](https://github.com/prometheus/blackbox_exporter/releases)  |

## Contrib / Dev

See [contrib](contrib/contrib.md)

