.\" Automatically generated by Pandoc 2.17.1.1
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "" "" "" "" ""
.hy
.SH Kube Easy - A One-Clik, Single VPS, Self-Hosted Kubernetes Platform
.SS About
.PP
\f[V]kubee\f[R] is the main entry of the \f[V]kubee platform\f[R]
.SS SYNOPSIS
.IP
.nf
\f[C]
kubee [kubee options] command args
\f[R]
.fi
.PP
where:
.IP \[bu] 2
\f[V]command\f[R] is one of:
.RS 2
.IP \[bu] 2
\f[V]cluster\f[R] : Kubernetes cluster hosts installation and
configuration
.IP \[bu] 2
\f[V]chart\f[R] : Kubee Package Manager
.IP \[bu] 2
\f[V]app\f[R] : Application scoped commands
.IP \[bu] 2
\f[V]kubectl\f[R] : Kubectl Kubee scluster aware
.RE
.IP \[bu] 2
\f[V]kubee options\f[R] are:
.RS 2
.IP \[bu] 2
\f[V]-n|--namespace name\f[R] : the \f[V]connection namespace name\f[R]
default to \f[V]KUBEE_CONNECTION_NAMESPACE\f[R], ultimately to
\f[V]default\f[R].
.IP \[bu] 2
\f[V]-c|--cluster   name\f[R] : the \f[V]cluster name\f[R] default to
\f[V]KUBEE_CLUSTER_NAME\f[R].
.IP \[bu] 2
\f[V]--debug\f[R] : Print debug statements.
.IP \[bu] 2
\f[V]--print-commands\f[R] : Print the command statements.
.RE
.PP
Example: * Execute the kubectl \f[V]cluster-info\f[R] command against
the cluster
.IP
.nf
\f[C]
kubee -c my-kubee kubectl cluster-info
\f[R]
.fi
.SS Extras
.SS Vault
.PP
Init a vault after installation with kubee-vault-init
.SS PromTool
.PP
Validate and test PrometheusRules with kubee-promtool
.SS Alert Manager
.PP
Query and send alert to the Prometheus Alert Manager with
kubee-alertmanager
.SS Shell
.IP \[bu] 2
Kubee shell - get a shell from a busybox container or a pod
.SS Ephemere KubeConfig stored in pass
.PP
Generate a Ephemere Kubeconfig from pass with kubee-config
.SS List and documentation
.IP \[bu] 2
kubee chart - the kubee chart manager
.IP \[bu] 2
kubee shell - get a shell from a busybox container or a pod
.IP \[bu] 2
kubee-kapply - apply a kustomize app (ie \f[V]kustomize apply\f[R])
.IP \[bu] 2
kubee-env - print the environment configuration of an app
.IP \[bu] 2
kubee-events - shows the events of an app
.IP \[bu] 2
kubee-file-explorer - Explore the files of an app via SCP/SFTP
.IP \[bu] 2
kubee-logs - print the logs of pods by app name
.IP \[bu] 2
kubee-pods - watch/list the pods of an app
.IP \[bu] 2
kubee-restart - execute a rollout restart
.IP \[bu] 2
kubee top - shows the top processes of an app
.IP \[bu] 2
kubee cert - print the kubeconfig cert in plain text
.IP \[bu] 2
kubee-cidr - print the cidr by pods
.IP \[bu] 2
kubee-k3s - collection of k3s utilities
.IP \[bu] 2
kube-ns-current - set or show the current namespace
.IP \[bu] 2
kube-ns-events - show the event of a namespace
.IP \[bu] 2
kube-pods-ip - show the ip of pods
.IP \[bu] 2
kube-pvc-move - move a pvc (Automation not finished)
.SS What is an app name?
.PP
In all \f[V]app\f[R] scripts, you need to give an \f[V]app name\f[R] as
argument.
.PP
The scripts will try to find resources for an app: * via the
\f[V]app.kubernetes.io/instance=$APP_NAME\f[R] label * via the
\f[V]app.kubernetes.io/name=$APP_NAME\f[R] label * or via the
\f[V].envrc\f[R] of an app directory
.PP
Problem: We need multiple apps in the same directory because an operator
may ship multiple CRD definitions.
.PP
See: \f[V]app.kubernetes.io/part-of: argocd\f[R]
.PP
Example: the Prometheus Operator * prometheus (Prometheus CRD) *
alertmanager (AlertManager CRD) * pushgateway * node exporter
.SS What is Envrc App Definition?
.PP
In this configuration: * All apps are in a subdirectory of the
\f[V]KUBEE_APP_HOME\f[R] directory (given by the
\f[V]$KUBEE_APP_HOME\f[R] environment variable).
* The name of an app is the name of a subdirectory * Each app expects a
\f[V]kubeconfig\f[R] file located at
\f[V]\[ti]/.kube/config-<app name>\f[R] with the default context set
with the same app namespace * Each app directory have a \f[V].envrc\f[R]
that: * is run by \f[V]direnv\f[R] * sets the app environment via the
kubee-env script
.IP
.nf
\f[C]
# kubee-env\[ga] is a direnv extension that set the name, namespace, kubeconfig and directory of an app as environment
# so that you don\[aq]t execute an app in a bad namespace, context ever. 
eval \[dq]$(kubee-env appName [namespaceName])\[dq]
\f[R]
.fi
.SS Kubectl Plugins
.PP
To make these utilities Kubectl
plugin (https://kubernetes.io/docs/tasks/extend-kubectl/kubectl-plugins/),
you can rename them from \f[V]kubee-\f[R] to \f[V]kubectl-\f[R]
.PP
They should then show up in:
.IP
.nf
\f[C]
kubectl plugin list
\f[R]
.fi
.PP
You can discover other plugins at
Krew (https://krew.sigs.k8s.io/plugins/)
