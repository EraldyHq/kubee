.\" Automatically generated by Pandoc 2.17.1.1
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "kubee-env" "1" "" "Version Latest" "Print the export environment variables"
.hy
.SH DESCRIPTION
.PP
Print the export environment statements.
.SH USAGE AND EXAMPLE
.PP
This script is used by all \f[V]kubee\f[R] scripts to set the
environment
.IP
.nf
\f[C]
KUBEE_ENV=$(source kubee-env \[dq]$KUBEE_APP_NAME\[dq])
eval \[dq]$KUBEE_ENV\[dq]
\f[R]
.fi
.PP
Note: The substitution is not in the eval because bash would not stop
the script otherwise even with the \f[V]-Ee\f[R] options.
.SH SYNOPSIS
.PP
Print the kubernetes and kubee environment variables in a export format
.IP
.nf
\f[C]
kubee-env [<chart name>]
\f[R]
.fi
.PP
where \f[V]chart name\f[R] is optional if the current directory is below
a \f[V]KUBEE_CHARTS_PATH\f[R].
.SH ENVIRONMENT
.SS KUBEE_USER_NAME
.PP
\f[V]KUBEE_USER_NAME\f[R]: the connection username (default to
\f[V]default\f[R]) Used in the creation of a config file
.SS KUBEE_CLUSTER_NAME
.PP
\f[V]KUBEE_CLUSTER_NAME\f[R] defines the default cluster name.
You can set it also via the \f[V]-c\f[R] or \f[V]--cluster\f[R] command
line option.
.PP
The cluster name is used: * in connection * in the detection of a
cluster project
.SS KUBEE_CLUSTERS_PATH
.PP
\f[V]KUBEE_CLUSTERS_PATH\f[R] defines a list of directory path where you
could find cluster definitions (environment, values and inventory file)
.PP
Example
.IP
.nf
\f[C]
export KUBEE_CLUSTERS_PATH=\[dq]$HOME/argocd/clusters:$HOME/argocd-2/clusters\[dq]
\f[R]
.fi
.SS KUBEE_CHARTS_PATH
.PP
The \f[V]$KUBEE_CHARTS_PATH\f[R] environment variable defines a path
environment variable where each path is a directory that contains kubee
charts.
.PP
It should be set in your \f[V].bashrc\f[R]
.PP
Example:
.IP
.nf
\f[C]
export KUBEE_CHARTS_PATH=$HOME/my-kubee-charts:$HOME/my-other-kubee-charts
\f[R]
.fi
.SS KUBEE_BUSYBOX_IMAGE
.PP
The image used by kubee-shell when asking for a shell in a busybox.
.PP
Default to
ghcr.io/gerardnico/busybox:latest (https://github.com/gerardnico/busybox/pkgs/container/busybox)
.IP
.nf
\f[C]
export KUBEE_BUSYBOX_IMAGE=ghcr.io/gerardnico/busybox:latest
\f[R]
.fi
.SS KUBEE_CONNECTION_NAMESPACE_DEFAULT
.PP
\f[V]KUBEE_CONNECTION_NAMESPACE_DEFAULT\f[R]: the default connection
namespace.
.SS KUBEE_PASS_HOME
.PP
\f[V]KUBEE_PASS_HOME\f[R]: the home directory in pass (default to
\f[V]kubee\f[R]) for the location of the connection secrets
.SH TIP
.PP
To get the env in the prompt such as cluster and namespace, check
kube-ps1 (https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/kube-ps1)
.SH Connection
.SS Connection namespace
.PP
Connection Namespace Order of precedence: In order, the connection
namespace value used is: * \f[V]default\f[R] if the flag
\f[V]--all-namespace\f[R] is passed * the option value of the flag
\f[V]-n|--namespace\f[R] * KUBEE_CONNECTION_NAMESPACE_DEFAULT if it
exists * otherwise \f[V]default\f[R]
.SS Connection Context Name
.PP
The connection context name in the config file is derived as
\f[V]$KUBEE_USER\[at]$KUBEE_CLUSTER/$KUBEE_CONNECTION_NAMESPACE\f[R]
.SS Connection Secrets Path
.IP \[bu] 2
\f[V]client-certificate-data\f[R] :
\f[V]$KUBEE_PASS_HOME/users/$KUBEE_USER_NAME/client-certificate-data\f[R]
.IP \[bu] 2
\f[V]client-key-data\f[R] :
\f[V]$KUBEE_PASS_HOME/users/$KUBEE_USER_NAME/client-key-data\f[R]
.IP \[bu] 2
\f[V]client-token\f[R] :
\f[V]$KUBEE_PASS_HOME/users/$KUBEE_USER_NAME/client-token\f[R]
